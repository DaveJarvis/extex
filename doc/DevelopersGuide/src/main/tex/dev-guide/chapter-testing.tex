%%*****************************************************************************
\SVN$Id$
%%*****************************************************************************
%%
%% Copyright (C) 2005-2008 The ExTeX Group and individual authors listed below
%%
%% This library is free software; you can redistribute it and/or modify it
%% under the terms of the GNU Lesser General Public License as published by the
%% Free Software Foundation; either version 2.1 of the License, or (at your
%% option) any later version.
%%
%% This library is distributed in the hope that it will be useful, but WITHOUT
%% ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
%% FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
%% for more details.
%%
%% You should have received a copy of the GNU Lesser General Public License
%% along with this library; if not, write to the Free Software Foundation,
%% Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
%%
%%*****************************************************************************
%% @author Gerd Neugebauer
%%-----------------------------------------------------------------------------
\chapter{Quality Assurance and Unit Tests}\label{chapter:testing}

Quality assurance and testing play an important r\^ole in software
development. Automated regression tests help to guarantee that
funtionality is preserved across releases.


\section{Deficiencies of the Trip Test}\index{Trip test}

Donald Knuth\index{Knuth!Donald} has provided the trip test for \TeX.
This test is not suitable for \ExTeX\ for several reasons:
\begin{itemize}
\item The trip test compares the log file and the dvi\index{dvi}
  output. \ExTeX\ does not guarantee identical log files.
\item And \ExTeX\ may produce more than dvi.
\item The trip test covers only part of the functionality of \TeX. It
  is interesting to test other features too.
\item The trip test contains tests for failures as well. In those
  cases the bahaviour of \ExTeX\ might be different.
\end{itemize}

As a consequence \ExTeX\ comes with an own set of test cases.

\section{Anatomy of a JUnit Test Class}

\INCOMPLETE

\begin{lstlisting}{}
package de.dante.extex.interpreter.primitives;

import de.dante.test.ExTeXLauncher;

/**
 * This is a test suite for the primitive <tt>\relax</tt>.
 *
 * @author <a href="mailto:gene@gerd-neugebauer.de">Gerd Neugebauer</a>
 * @version $Revision: 2462 $
 */
public class RelaxTest extends ExTeXLauncher {

    /**
     * Method for running the tests standalone.
     *
     * @param args command line parameter
     */
    public static void main(final String[] args) {

        junit.textui.TestRunner.run(RelaxTest.class);
    }

    /**
     * Constructor for RelaxTest.
     *
     * @param arg the name
     */
    public RelaxTest(final String arg) {

        super(arg);
    }

    /**
     * Test case checking that a pure \relax has no effect.
     * @throws Exception in case of an error
     */
    public void test1() throws Exception {

        runCode(//--- input code ---
                "\\relax",
                //--- log message ---
                "",
                //--- output channel ---
                "");
    }
}
\end{lstlisting}


\section{Creating Test Cases for the Interpreter}

\INCOMPLETE

