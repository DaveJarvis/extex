%%*****************************************************************************
%% $Id$
%%*****************************************************************************
%%
%% Copyright (C) 2009 ExTeX Group and individual authors listed below
%%
%% This library is free software; you can redistribute it and/or modify it
%% under the terms of the GNU Lesser General Public License as published by the
%% Free Software Foundation; either version 2.1 of the License, or (at your
%% option) any later version.
%%
%% This library is distributed in the hope that it will be useful, but WITHOUT
%% ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
%% FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License
%% for more details.
%%
%% You should have received a copy of the GNU Lesser General Public License
%% along with this library; if not, write to the Free Software Foundation,
%% Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
%%
%%*****************************************************************************
%% Author: Gerd Neugebauer
%%-----------------------------------------------------------------------------

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{rule}[2009/02/09 Rule Descriptions]

\newcounter{Rule@counter}

\setcounter{Rule@counter}1

\newcommand\Rule@label[1]{\smallskip\par
  \@tempdima=\textwidth
  \advance\@tempdima 56pt
  \parshape 2 -56pt \@tempdima 0pt \textwidth
  \parbox{56pt}{\textsf{\tiny #1}}\rule{0pt}{2ex}\ignorespaces}

\newenvironment{Rule}[1]{\medskip\parindent=0pt
  \par\nopagebreak
  \parskip=2pt
  \rule{\textwidth}{.1pt}\par\nopagebreak
  \advance\leftskip56pt\advance\linewidth-56pt
  \advance\@totalleftmargin 56pt
  \Rule@label{\normalsize R-\arabic{Rule@counter}}%
  \addtocounter{Rule@counter}1%
  \textbf{\large #1}%
  \par
  }{\par\nopagebreak\advance\leftskip-56pt\advance\linewidth56pt
  \rule{\textwidth}{.1pt}\smallskip\par}
\newenvironment{Description}%
  {\Rule@label{Description}}%
  {\par}
\newenvironment{Motivation}%
  {\Rule@label{Motivation}}%
  {\par}
\newenvironment{Exceptions}%
  {\Rule@label{Exceptions}}%
  {\par}
\newenvironment{Example}%
  {\Rule@label{Example}}%
  {\par}
\newenvironment{CounterExample}%
  {\Rule@label{Counter Example}}%
  {\par}
\newenvironment{Note}%
  {\Rule@label{Note}}%
  {\par}
\newenvironment{ToolSupport}%
  {\Rule@label{Tool Support}}%
  {\par}
\newenvironment{References}%
  {\Rule@label{References}}%
  {\par}

\endinput
