% Ausgabe von Fontparametern.
% Rolf Niepraschk, Rolf.Niepraschk@gmx.de, 2007-01-14
%
% kleine Änderungen mgn 2007-01-17
%
% Aufruf etex shonw-fontdimen.tex
%

\def\fname{cmtt10}

\def\typeout{\immediate\write17}
\count0=0\relax
\font\f=\fname\relax
\edef\LBRACE{\string{}
\edef\RBRACE{\string}}
\typeout{// ************************************************************}
\loop
  \count1=\fontcharwd\f\count0\relax
  \count2=\fontcharht\f\count0\relax
  \count3=\fontchardp\f\count0\relax
  \count4=\fontcharic\f\count0\relax
  \typeout{/**}
  \typeout{* test\fname C\the\count0}
  \typeout{*/}
  \iffontchar\f\count0\relax
   \typeout{public void test\fname C\the\count0() throws Exception}
   \typeout{\LBRACE}
   \typeout{FixedGlue h = font.getHeight(UnicodeChar.get(Unicode.OFFSET + \the\count0));}
   \typeout{FixedGlue w = font.getWidth(UnicodeChar.get(Unicode.OFFSET + \the\count0));}
   \typeout{FixedGlue d = font.getDepth(UnicodeChar.get(Unicode.OFFSET + \the\count0));}
   \typeout{FixedDimen i = font.getItalicCorrection(UnicodeChar.get(Unicode.OFFSET + \the\count0));}
   \typeout{assertNotNull(w);}
   \typeout{assertNotNull(h);}
   \typeout{assertNotNull(d);}
   \typeout{assertNotNull(i);}
   \typeout{assertTrue(Long.toString(w.getLength().getValue()),}
   \typeout{ new Glue(\the\count1).eq(w));}
   \typeout{assertTrue(Long.toString(h.getLength().getValue()),}
   \typeout{ new Glue(\the\count2).eq(h));}
   \typeout{assertTrue(Long.toString(d.getLength().getValue()),}
   \typeout{ new Glue(\the\count3).eq(d));}
   \typeout{assertTrue(Long.toString(i.getValue()),}
   \typeout{ new Dimen(\the\count4).eq(i));}
   \typeout{\RBRACE}
  \else
   \typeout{public void test\fname C\the\count0() throws Exception}
   \typeout{\LBRACE}
   \typeout{assertFalse(font.hasGlyph(UnicodeChar.get(Unicode.OFFSET + \the\count0)));}
   \typeout{\RBRACE}
  \fi
  \advance \count0 by 1\relax
\ifnum \count0<256\relax \repeat

\setbox0=\hbox{AV}
\setbox1=\hbox{A{}V}

\count1\wd1\relax \advance\count1-\wd0\relax

\typeout{// Kerning: AV : \the\count1}
\typeout{// ************************************************************}

\bye
