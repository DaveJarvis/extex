%%*****************************************************************************
%% $Id$
%%*****************************************************************************
%% Author: Gerd Neugebauer
%%-----------------------------------------------------------------------------
\begingroup\small
\def\processor(#1)#2{%
  \begin{scope}[shift={(#1)}]
    \draw[thick,color=white!80!gray,fill==white!70!gray]
    (1,-0.5) rectangle (9,4.5);
    \shade[top color=white!90!green,bottom color=white!60!green,draw=green!40!black,thick]
    (0.5,0) rectangle (8.5,5);
    \draw (4.5,2.5) node{#2};
    \shade[top color=white!90!green,bottom color=white!60!green,draw=green!40!black,thick]
    (0,1) rectangle (1,2);
    \shade[top color=white!90!green,bottom color=white!60!green,draw=green!40!black,thick]
    (0,3) rectangle (1,4);
  \end{scope}
}
\def\data(#1)#2{%
  \begin{scope}[shift={(#1)}]
    \draw[thick,color=white!80!gray,fill==white!70!gray]
    (0.3,-.3) -- (5.3,-.3) -- (5.3,1.7) -- (4.3,2.7) -- (0.3,2.7) -- cycle;
    \shade[top color=white!90!yellow,bottom color=white!60!yellow,draw=red!40!black,thick]
    (0,0) -- (5,0) -- (5,2) -- (4,3) -- (0,3) -- cycle;
    \draw (2.5,1.5) node{#2};
  \end{scope}
}
\def\datas(#1)#2{%
  \begin{scope}[shift={(#1)}]
    \draw[thick,color=white!80!gray,fill==white!70!gray]
    (0.3,-.3) -- (5.3,-.3) -- (5.3,1.7) -- (4.3,2.7) -- (0.3,2.7) -- cycle;
    \begin{scope}[shift={(.15,.15)}]
      \draw[thick,color=white!80!gray,fill==white!70!gray]
      (0.3,-.3) -- (5.3,-.3) -- (5.3,1.7) -- (4.3,2.7) -- (0.3,2.7) -- cycle;
    \end{scope}
    \begin{scope}[shift={(.1,.1)}]
      \draw[thick,color=white!80!gray,fill==white!70!gray]
      (0.3,-.3) -- (5.3,-.3) -- (5.3,1.7) -- (4.3,2.7) -- (0.3,2.7) -- cycle;
    \end{scope}
    \begin{scope}[shift={(.05,.05)}]
      \draw[thick,color=white!80!gray,fill==white!70!gray]
      (0.3,-.3) -- (5.3,-.3) -- (5.3,1.7) -- (4.3,2.7) -- (0.3,2.7) -- cycle;
    \end{scope}
    \begin{scope}[shift={(.3,.3)}]
      \shade[top color=white!90!yellow,bottom color=white!60!yellow,draw=red!40!black,thick]
      (0,0) -- (5,0) -- (5,2) -- (4,3) -- (0,3) -- cycle;
    \end{scope}
    \begin{scope}[shift={(.2,.2)}]
      \shade[top color=white!90!yellow,bottom color=white!60!yellow,draw=red!40!black,thick]
      (0,0) -- (5,0) -- (5,2) -- (4,3) -- (0,3) -- cycle;
    \end{scope}
    \begin{scope}[shift={(.1,.1)}]
      \shade[top color=white!90!yellow,bottom color=white!60!yellow,draw=red!40!black,thick]
      (0,0) -- (5,0) -- (5,2) -- (4,3) -- (0,3) -- cycle;
    \end{scope}
    \shade[top color=white!90!yellow,bottom color=white!60!yellow,draw=red!40!black,thick]
    (0,0) -- (5,0) -- (5,2) -- (4,3) -- (0,3) -- cycle;
    \draw (2.5,1.5) node{#2};
  \end{scope}
}
\def\arrow(#1)#2#3{%
  \begin{scope}[shift={(#1)}#3,scale=.5]
    \begin{scope}[shift={(#2)}]
      \draw[thick,color=white!80!gray,fill==white!70!gray]
      (0,1) -- (5,1) -- (5,0) -- (6,2) -- (5,4) -- (5,3) -- (0,3) -- cycle;
    \end{scope}
    \shade[top color=white!90!gray,bottom color=white!60!gray,draw=gray!40!black,thick]
    (0,1) -- (5,1) -- (5,0) -- (6,2) -- (5,4) -- (5,3) -- (0,3) -- cycle;
  \end{scope}
}
%
\begin{tikzpicture}[scale=.35]\sf
  \processor(10,30){Text Processor}

  \arrow(10.5,29){.3,.3}{,rotate=270}
  \datas(9,22){file.aux}
  \arrow(10.5,21){.3,.3}{,rotate=270}

  \processor(10,12){\ExBib}
  \arrow(19.5,13.5){.3,-.3}{}
  \data(23.5,13){file.blg}

  \arrow(18.5,18){-.3,-.3}{,rotate=90}
  \data(15,22){file.bbl}
  \arrow(18.5,26){-.3,-.3}{,rotate=90}

  \arrow(6,13.5){.3,-.3}{}
  \datas(0,13){*.bib}

  \arrow(12.5,8){-.3,-.3}{,rotate=90}
  \datas(9,4){*.bst}

  \arrow(18.5,8){-.3,-.3}{,rotate=90}
  \data(15,4){*.csf}

  \arrow(23,10){-.3,-.3}{,rotate=135}
  \datas(21,5){Config}

\end{tikzpicture}
\endgroup
\endinput
%
% Local Variables: 
% mode: latex
% TeX-master: nil
% End: 
